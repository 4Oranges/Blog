# JavaScript：语言解析引发的常见错误
```{metadata}
date: Sat, 11 Jun 2016 16:48:23 +0800
status: 正在写
```

似乎都跟括号相关

## 将已声明的变量进行解构赋值
[来源参考](http://es6.ruanyifeng.com/#docs/destructuring)
```JavaScript
var x;
{x} = {x: 1};   // 错误
({x} = {x: 1}); // 正确
```
原因在于，JavaScript解析器会把`{x}`解析成一个代码块

## 解构赋值的圆括号用法
[来源参考](http://es6.ruanyifeng.com/#docs/destructuring)

1. 变量声明不能带有圆括号
2. 函数参数不能带有圆括号（也属于变量声明）
3. 赋值语句中，不能将模式／嵌套模式中的一层，放在圆括号中
4. 只可以将某个模式中的元素部分（赋值语句的非模式部分）放在圆括号中。

```JavaScript
var {(x): c} = {};} // 错误，变量声明语句不能带有圆括号
function f([(z)]) { return z; } // 错误，函数声明也是变量声明
([a]) = [5];    // 错误，不能将整个模式放在圆括号中
[({ p: a }), { x: c }] = [{}, {}];  // 错误，也不能把嵌套模式放在圆括号中

// 只能在赋值语句的非模式部分使用圆括号
[(b)] = [3]; // 正确
({ p: (d) } = {}); // 正确
```

## 箭头函数（ => ）返回普通对象
[来源参考](http://es6.ruanyifeng.com/#docs/function#箭头函数)

又是防止被解析成代码块：
```JavaScript
v => {a: 1}; // Error
v => ({a: 1}); // OK
```
